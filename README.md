# TestLink v1.9.20 / Apache 2.4.59

## Changes in the TestLink folder
- I have included the `config_db.inc.php` file that has the database creds which doesn't exist in the TestLink folder since TestLink itself fails to make it and write into it. Change the values written in it before building because the docker file will move the file to the TestLink folder.
> [!NOTE]
> If an error happens due to it then try with the dockerfile from the first commit but in that case you will have to do this yourself within the container. ***If you roll back the entire repo to first commit then don't forget to comment the second line in `a2start.sh` before building***.
### The config_db.inc.php file content
```
<?php
// Automatically generated by TestLink installer (except the closing line)
// Still fails to write it.
// values are ,of course, to be changed.
define('DB_TYPE', 'mysql');
define('DB_USER', 'testlink');
define('DB_PASS', 'testlink');
define('DB_HOST', 'localhost');
define('DB_NAME', 'testlink');
define('DB_TABLE_PREFIX', '');
?>
```

## Modification perhaps needed on the database
- You may need to make the TestLink user yourself and grant him privileges yourself and then do the installation

- You may also need to change the variable sql-mode , remove `NO_ZERO_IN_DATE` and `NO_ZERO_DATE`, for the mysql database in case you get the error message `invalid default value for end_exec_ts`.
## The a2start.sh script
- The `a2start.sh` script serves as an entrypoint for the container. I made it in case of you have to modify the apache server within or make any changes that make you override the container's entrypoint. You can `docker commit` then run a new container from the resulting image with that script as an entrypoint to, kind of, revert the entrypoint to the original.
> [!NOTE]
> Commented second line since it is not needed with this dockerfile/build and will throw an error since this build has no mysql database installed in it. Uncomment it when mysql is installed in the container either through dockerfile in first build or manually later after modifying the built container.
## Sources
- [TestLink's code v1.9.20](https://github.com/TestLinkOpenSourceTRMS/testlink-code/tree/1.9.20)
- [.deb packages](https://www.debian.org/distrib/packages#search_packages)
